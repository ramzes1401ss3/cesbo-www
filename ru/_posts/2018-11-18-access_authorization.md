---
layout: post
lang: ru
title: Авторизация доступа
tags: [dev]
---

Авторизация позволяет контролировать доступ к каналам и позволяет сохранять статистику просмотра.
<!-- more -->

#### Включение авторизации:

Перейдите в раздел Settings -> HTTP Authentication и установите галочку в чекбоксе **Enable built-in HTTP/HLS authentication**  

![Image](/assets/post-img/authentication.png){:class="img-fluid"}

После этого - нажмите кнопку "Apply & Restart" после данного действия - у пользователей (в разделе Settings -> Users) появятся дополнительные типы авторизации.

### Пользователи

Данный тип авторизации позволит использовать токены, доступ по ip, логину-паролю, лимитирование соединений и возможность установить дату, по которую пользователь активен.  

Перейдите в Settings -> Users, и в правом верхнем углу нажмите на кнопку NEW USER. Откроется окно добавления пользователя.

##IMG

Описание полей:  

- **LOGIN** - имя пользователя. (пример "testuser") 
- **PASSWORD** - пароль (пример "87326848") 
- **COMMENT** - комментарий (пример "тестовый пользователь" ) 
- **TYPE** - тип пользователя:
  - **user** - не может получить доступ к веб-интерфейсу. Учетная запись используется только для авторизации (например в VLC)  
  - **observer** - добавляет право доступа в веб-интерфейс с правами "только для чтения"  
  - **administrator** - полные права доступа.  
- **TOKEN** - токен (пример "8732684ydbeb8")  
- **IP** - IP адрес пользователя.   
- **STB** - опция зарезервирована для middleware  
- **EXPIRATION** - возможно задать - по какое время учетная запись будет активна.   
- **LIMIT CONNECTIONS** - лимитирование соединений с клиентских устройств.   
- **PACKAGES** - пакеты каналов.   

примеры авторизации клиента:  
**stream address?auth=testuser:87326848** (логин и пароль)   
**stream address?token=112277668833743** (токен)  

### HTTP Authentication

#### MINISTRA/STALKER AUTORIZATION  
В поле вводится адрес сталкер портала (например "http://testdomain.com/stalker_portal")  
Опция включает поддержку "Temporary URL" для работы с Ministra/Stalker portal  
В настройках Ministra/Stalker portal включите опцию "Temporary URL - Flussonic support"  

#### ALLOW ACCESS WITHOUT AUTHORIZATIONNEW IP

Возможно добавить IP адреса/сети, пользователи которых будут иметь доступ к стримам без авторизации.  

#### DENY ACCESSNEW IP

Черный список. Возможно добавить IP адреса/сети, пользователи которых не будут иметь доступ к стримам, да же при наличии логина/пароля или токена.


