---
layout: post
lang: ru
title: Настройка dvb адаптера
tags: [astra]
---
Статья описывает настройку DVB - адаптера в веб-интерфейсе Astra
<!-- more -->

Откройте веб-интерфейс Астра. В правом верхнем углу - найдите пункт "Nev Adapter". 
При его нажатии - у Вас откроется новое окно - в котором Вам будет предложено добавить адаптер.

![Image](/assets/post-img/add-dvb.png){:class="img-fluid"}


#### Настройка адаптера:
---
Описание полей:

 - NAME - имя адаптера - например "EUTELSAT W4 36E". 
 - ID - уникальный номер адаптера. Можно не заполнять - система сгенерирует id при сохранении адаптера. 
 - Adapter - меню выбора адаптера из списка: 
![Image](/assets/post-img/add-dvb-2.png){:class="img-fluid"}
 - TYPE - тип адаптера, возможные значения:

   - DVB-S, DVB-S2
     - FREQUENCY - частота несущей (950-13250 MHz)
     - POLARIZATION - поляризация (Vertical, Horizontal, Right, Left)
     - SYMBOLRATE - символьная скорость (1000-50000 Kbaud)

   - DVB-T, DVB-T2, ATSC, ISDB-T
     - FREQUENCY - частота несущей (0-1000 MHz)

   - DVB-C, DVB-C (Annex A), DVB-C (Annex B), DVB-C (Annex C), DVB-ASI
     - FREQUENCY - частота несущей (80-1000 MHz)
     - SYMBOLRATE - символьная скорость (1000-10000 Kbaud)

Настроим наш DVB-S2 dvb-general - введем частоту, поляризацию и символьную скорость. К примеру для 36E - это 12091,90:R:27500  

![Image](/assets/post-img/dvb-general.png){:class="img-fluid"}

перейдем на вкладку 

#### LNB
---
Значения LNB по умолчанию: LOF1 - 9750 МГц, LOF2 - 10600 МГц, SLOF - 11700 МГц
Для конвертеров с круговой поляризацией (например для 36°Е, 56°Е), необходимо установить во всех полях значения 10750 МГц
 - LOF1 - Low sub-band (нижний поддиапазон, MHz)
 - LOF2 - High sub-band (верхний поддиапазон, MHz)
 - SLOF - Sub-band range (граница перехода, MHz)
 - LNB Sharing. Disable LNB voltage supply and tone signal - отключить управление LNB. Позволяет подключить несколько DVB-адаптеров к одному конвертеру через пассивный делитель. На делителе один адаптер должен быть активным, остальные DVB адаптеры должны быть пассивны. Все адаптеры на одном делителе должны работать в одной поляризации и в одном поддиапазоне (частота больше или меньше значения slof)
 - Force Tone - передать тональный сигнал 22 KHz

**FAQ по LNB:**
Напряжения 13/18 Вольт являются не только питающими напряжениями но и сигналами переключения поляризации. 13 В это сигнал включения горизонтальной H (левой L) в диапазоне 11-14 Вольт, а 18 В сигнал включения вертикальной V (правой R) в диапазоне 16- 20 Вольт
**Сигнал 22 кГц** это сигнал переключения поддиапазонов. При включенных 22кГц принимается верхний диапазон (High Band) а при отсутствии этого сигнала соответственно нижний (Low Band). В случае универсального конвертера эта опция не активна, выбор происходит автоматически в зависимости от выбранной частоты.

В нашем случае - для 36E  нам нужно установить значение **10750** во всех полях.

![Image](/assets/post-img/dvb-lnb.png){:class="img-fluid"}

перейдем на вкладку 

#### DiSEqC - Digital Satellite Equipment Control
---
![Image](/assets/post-img/dvb-DiSEqC.png){:class="img-fluid"}

DISEQC MODE - режим DiSEqC:

- Default: DiSEqC 1.0 - по умолчанию, не используется, возможные значения: 1, 2, 3, 4
- DiSEqC 1.1 - возможные значения: 1 - 16
- Tone Burst - возможные значения: A, B. 
- DiSEqC Command - отправить команду для DiSEqC. 

В нашем случае - DiSEqC не используется и мы перейдем на следующую вкладку:  

#### UniСable - протокол, позволяющий подсоединить несколько тюнеров к одному кабелю
---
![Image](/assets/post-img/dvb-Unicable.png){:class="img-fluid"}

UNICABLE SLOT - Default: unicable disabled (по умолчанию выключен), возможные значения: 1 - 9
SLOT POSITION - возможные значения: A, B
SLOT FREQUENCY - возможные значения: 950 - 2150 MHz

В нашем случае - Unicable не используется и мы перейдем на следующую вкладку:  

#### Advanced
---

**MODULATION** - модуляция  
Default: Auto (по умолчанию)
По умолчанию сейчас для DVB-S - QPSK, DVB-S2 - PSK8

**FEC** - forward error correction (система корректирующих кодов)
Default: Auto (по умолчанию)
**ROLL-OFF** - spectrum efficiency (коэфициент сглаживания), используется только для DVB-S2, возможные значения: Default: 35 (по умолчанию), 25, 20, AUTO
 - **STREAM ID** - PLP stream ID, только для DVB-S2 и DVB-T2:
   - PLS MODE - возможные значения: Root, Gold, Combo
   - PLS CODE - возможные значения: 0 - 262143
   - STREAM ID - возможные значения: 0 - 255
**TIMEOUT** - задержка в секундах до проверки DVR ошибок, по умолчанию 2 секунды
DDCI - привязать адаптер к DVB-CI Digital Devices, значение соответствует номеру адаптера в системе
**Budget Mode. Disable hardware PID filtering** - отключить аппаратную фильтрацию данных. Astra получит весь поток с DVB-адаптера. Параметр используется для передачи всего транспондера или для устаревших DVB-адаптеров без аппаратной фильтрации (например SkyStar 2). По умолчанию, аппаратная фильтрация включена
**Signal in dBm** - вывод уровня сигнала в dBm. Для адаптеров TBS должен быть установлен параметр драйвера: options tbsfe dbm=1 esno=1 в файле /etc/modprobe.d/tbsfe.conf. DVB адаптеры с демодулятором CXD2820R передают значение уровеня сигнала в dBm по умолчанию
**Scale DD MaxS8 SNR** - корректировка отображения уровня сигнала для адаптеров DD MaxS8
**CA DELAY** - задержка, в секундах, перед отправкой информации о канале на модуль условного доступа

![Image](/assets/post-img/dvb-advanced.png){:class="img-fluid"}

В нашем случае - ни один из параметров нам не нужен - и мы нажмем на находящуюся внизу кнопку "SCAN"  

---
Если все настроено верно - у нас появится уровен сигнала и через несколько секунд - список доступных телеканалов.  

![Image](/assets/post-img/dvb-scan.png){:class="img-fluid"}

Установив "галочки" напротив нужных нам телеканалов - внизу нажмем на кнопку "APPLY"
![Image](/assets/post-img/dvb-ch.png){:class="img-fluid"}

Готово! 


